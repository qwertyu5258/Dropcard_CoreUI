<header class="app-header navbar">
  <button class="navbar-toggler d-lg-none" type="button" appMobileSidebarToggler>
    <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand" routerLink="/monitoring"></a>
  <button class="navbar-toggler d-md-down-none mr-auto" type="button" appSidebarToggler>
    <span class="navbar-toggler-icon"></span>
  </button>
  <ul class="nav navbar-nav ml-auto">
    <li class="nav-item dropdown" dropdown placement="bottom right" (click)='alarm()'>
      <a class="nav-link" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" dropdownToggle
        (click)="false">
        <i class="icon-bell"></i>
        <span class="badge badge-pill badge-danger" *ngIf="newFlag.state" >N</span>
      </a>
      <div class="dropdown-menu dropdown-menu-right dropdown-menu-lg" *dropdownMenu aria-labelledby="simple-dropdown">
        <div class="dropdown-header text-center">
          <strong>최근 5개의 알림</strong>
        </div>
        <a href="#" class="dropdown-item" *ngFor="let alarm of alarms.list">
          <i class="fa fa-warning text-warning"></i>
          <span class='text-warning'>{{alarm.time}}</span>
        </a>
        <!-- <a href="#" class="dropdown-item">
          <i class="fa fa-warning text-warning"></i>
          <span class='text-warning'>경고 : 태그명, 시간, 이유</span>
        </a>
        <a href="#" class="dropdown-item">
          <i class="fa fa-warning text-warning"></i>
          <span class='text-warning'>경고 : 태그명, 시간, 이유</span>
        </a>
        <a href="#" class="dropdown-item">
          <i class="fa fa-warning text-warning"></i>
          <span class='text-warning'>경고 : 태그명, 시간, 이유</span>
        </a>
        <a href="#" class="dropdown-item">
          <i class="fa fa-warning text-warning"></i>
          <span class='text-warning'>경고 : 태그명, 시간, 이유</span>
        </a> -->
      </div>
    </li>
    <li class="nav-item dropdown" dropdown placement="bottom right">
      <a class="nav-link" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" dropdownToggle
        (click)="false">
        <!-- <img src="assets/img/avatars/6.jpg" class="img-avatar" alt="admin@bootstrapmaster.com"/> -->
        <i class="fa fa-user-circle-o fa-lg mr-2"></i>{{id}}
        <i class="fa fa-sort-down mr-4"></i>
      </a>
      <div class="dropdown-menu dropdown-menu-right" *dropdownMenu aria-labelledby="simple-dropdown">
        <div class="dropdown-header text-center">
          <strong>계정</strong>
        </div>
        <a class="dropdown-item" routerLink="/account/profile">
          <i class="fa fa-user text-primary"></i> 프로필</a>
        <a class="dropdown-item" (click)="logout()">
          <i class="fa fa-lock text-primary"></i> 로그아웃</a>
        <div class="dropdown-header text-center" *ngIf="authority == 'admin'">
          <strong>관리자</strong>
        </div>
        <a class="dropdown-item" *ngIf="authority == 'admin'" routerLink="/admin/user-list">
          <i class="fa fa-wrench text-primary"></i> 사용자
          <span class="badge badge-info">{{usersCount.cnt}}</span>
        </a>
        <a class="dropdown-item" *ngIf="authority == 'admin'" routerLink="/admin/device-list">
          <i class="fa fa-usd text-primary"></i> 장비
          <span class="badge badge-info">{{devicesCount.cnt}}</span>
        </a>
      </div>
    </li>
  </ul>
</header>